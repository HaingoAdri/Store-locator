<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Mobilosoft Locations</title>
    <link rel="stylesheet" type="text/css" href="/css/components/datetime-picker.css">
    <link rel="stylesheet" href="/css/global.css" type="text/css">
    <link rel="stylesheet" href="/css/global-added.css" type="text/css">
    <link rel="stylesheet" href="/css/font-awesome.css" type="text/css">
    <link rel="stylesheet" href="/css/notify.css" type="text/css">
    <link rel="stylesheet" href="/css/jquery-ui.css" type="text/css">
    <link rel="stylesheet" href="/css/chosen.min.css" type="text/css">
    <link rel="stylesheet" href="/css/HoldOn.min.css" type="text/css">
    <link rel="stylesheet" href="/css/emojionearea.min.css" type="text/css">
    <link rel="stylesheet" href="/css/richtext.min.css" type="text/css">
    <link rel="stylesheet" href="/css/daterangepicker.css" type="text/css">
    <link rel="stylesheet" href="/css/multi-select.css" type="text/css">
    <link rel="stylesheet" href="/css/switch.css" type="text/css">
    <link rel="stylesheet" href="/css/reporting-ui/index.css" type="text/css">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link rel="shortcut icon" href="/img/favicon.ico"/>
    <meta name="google-site-verification" content="qzP41lOwwGJ6nyep8qwJtxHEzOvZ_ynBIpJeUHaKEgw" />
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=gaTrackingId"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=gaTrackingId"></script>
</head>

<body>
    <aside>
        <nav>
            <div class="logo"><a href="">
                <img src="https://my.new.mobilosoft.com/img/logo.svg"/></a>
            </div>
            <ul>
                <li class="nav-client">
                    <a href="./Page.html">Tableau de bord</a>
                </li>
                <li class="nav-settings">
                    <a href="./index.html">Ajout d'emplacement</a>
                </li>
                <li class="nav-reporting">
                    <a href="./Store_Locator.html">Store locator</a>
                </li>
                <li class="nav-status">
                    <a href="https://my.new.mobilosoft.com/site/demo-mobilosoft/reporting/location">Gestion des caches</a>
                </li>
                <li class="nav-inbox">
                    <a href="https://my.new.mobilosoft.com/site/demo-mobilosoft/reporting/location">Gestion des seo</a>
                </li>
                
            </ul>
        </nav>
        <!-- OPEN CLOSE SECTION / EXPANDABLE -->
        <div class="expandable">
            <div class="logoExp">
                <a href=""><img src="https://my.new.mobilosoft.com/img/MyMobilosoft_Logo.png"/></a>
            </div>
            <ul>
                <li class="nav-client">
                    <a href="./Page.html">Tableau de bord</a>
                </li>
                <li class="nav-settings">
                    <a href="./index.html">Ajout d'emplacement</a>
                </li>
                <li class="nav-reporting">
                    <a href="./Store_Locator.html">Store locator</a>
                </li>
                <li class="nav-status">
                    <a href="https://my.new.mobilosoft.com/site/demo-mobilosoft/reporting/location">Gestion des caches</a>
                </li>
                <li class="nav-inbox">
                    <a href="https://my.new.mobilosoft.com/site/demo-mobilosoft/reporting/location">Gestion des seo</a>
                </li>
            </ul>
        </div>
        <!-- OPEN CLOSE SECTION / EXPANDABLE -->

    </aside>

    <header>
        <ul class="breadcrumb">
            <li><a href="#">Site</a></li>
            <li><a href="https://my.new.mobilosoft.com/site/demo-mobilosoft/locations"><span style="font-weight: bold">demo-mobilosoft</span></a></li>
            <li>A9 MONTPELLIER AMBRUSSUM [ 1297 ]</li>
            <li>Services</li>
        </ul>
        <div class="profil" id="dv-profil">
            <div class="profil-pict">
                <img src="https://my.new.mobilosoft.com/img/no-picture-user.png"/>
            </div>
            <h4 class="profil-name wrapSpecialSelect">
                <a class="select-type" href="#">Stagiaire Mobilosoft</a>
            </h4>
        </div>
    </header>

    <main>
        <div class="wrapper-title">
            <h1>Services</h1>
            <div class="btns-group">
                <button id="openServiceGroupModal" class="btn btn-level2">Créer un groupe de services</button>
                <button id="openServiceModal" class="btn btn-level2">Créer un service</button>
            </div>
        </div>
        <div>
            <div class="boxlined">
                <div class="aside-left">
                    <ul class="subNavTabs">
                        <li>
                            <a class="btn-nav "
                            href="./modif.html">Informations</a>
                        </li>
                        <li>
                            <a class="btn-nav"
                            href="./horaire.html">Heures d&#39;ouverture</a>
                        </li>
                        <li>
                            <a class="btn-nav"
                            href="./image.html ">Images</a>
                        </li>
                        <li>
                            <a class="btn-nav active"
                            href="./services.html">Services</a>
                        </li>
                        <li>
                            <a class="btn-nav"
                            href="./produit.html">Stock de produit</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="box">
            <div class="box-title">
                <h2>Services</h2>
            </div>
            <div class="box-inside">
                <table class="table" id="tb-services">
                    <thead>
                        <tr>
                            <th>Icône</th>
                            <th>Nom</th>
                            <th>Groupe</th>
                            <th>Disponible</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Groupe Voiture -->
                        <tr>
                            <td><span><img src="https://cdn.icon-icons.com/icons2/933/PNG/512/parking-sign_icon-icons.com_72642.png" alt="" width="30" height="30"></span></td>
                            <td><strong>Parking</strong></td>
                            <td><strong>Voiture</strong></td>
                            <td>
                                <div class="btn-group btn-group-small">
                                    <form method="post" id="reparation_voiture_enable" action="/site/carrefour-be/locations/service/reparation/enable">
                                        <input name="id" value="reparation-id" type="hidden"/>
                                        <button class="toggle add-service enable-btn" type="submit">Oui</button>
                                    </form>
                                    <form method="post" id="reparation_voiture_disable" action="/site/carrefour-be/locations/service/reparation/disable">
                                        <input name="id" value="reparation-id" type="hidden"/>
                                        <button class="toggle toggleInactif del-service disable-btn active">Non</button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td><span><img src="https://cdn.icon-icons.com/icons2/1456/PNG/512/mbridelivery_99588.png" alt="" width="30" height="30"></span></td>
                            <td><strong>Livraison</strong></td>
                            <td><strong>Voiture</strong></td>
                            <td>
                                <div class="btn-group btn-group-small">
                                    <form method="post" id="entretien_voiture_enable" action="/site/carrefour-be/locations/service/entretien/enable">
                                        <input name="id" value="entretien-id" type="hidden"/>
                                        <button class="toggle add-service enable-btn" type="submit">Oui</button>
                                    </form>
                                    <form method="post" id="entretien_voiture_disable" action="/site/carrefour-be/locations/service/entretien/disable">
                                        <input name="id" value="entretien-id" type="hidden"/>
                                        <button class="toggle toggleInactif del-service disable-btn active">Non</button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                
                        <!-- Groupe Finance -->
                        <tr>
                            <td><span><img src="https://cdn.icon-icons.com/icons2/1259/PNG/512/1495815224-jd15_84582.png" alt="" width="30" height="30"></span></td>
                            <td><strong>Paiement par carte</strong></td>
                            <td><strong>Finance</strong></td>
                            <td>
                                <div class="btn-group btn-group-small">
                                    <form method="post" id="pret_auto_enable" action="/site/carrefour-be/locations/service/pret-auto/enable">
                                        <input name="id" value="pret-auto-id" type="hidden"/>
                                        <button class="toggle add-service enable-btn" type="submit">Oui</button>
                                    </form>
                                    <form method="post" id="pret_auto_disable" action="/site/carrefour-be/locations/service/pret-auto/disable">
                                        <input name="id" value="pret-auto-id" type="hidden"/>
                                        <button class="toggle toggleInactif del-service disable-btn active">Non</button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td><span><img src="https://cdn.icon-icons.com/icons2/317/PNG/512/shop-icon_34368.png" alt="" width="30" height="30"></span></td>
                            <td><strong>Boutique en ligne</strong></td>
                            <td><strong>Finance</strong></td>
                            <td>
                                <div class="btn-group btn-group-small">
                                    <form method="post" id="assurance_auto_enable" action="/site/carrefour-be/locations/service/assurance-auto/enable">
                                        <input name="id" value="assurance-auto-id" type="hidden"/>
                                        <button class="toggle add-service enable-btn" type="submit">Oui</button>
                                    </form>
                                    <form method="post" id="assurance_auto_disable" action="/site/carrefour-be/locations/service/assurance-auto/disable">
                                        <input name="id" value="assurance-auto-id" type="hidden"/>
                                        <button class="toggle toggleInactif del-service disable-btn active">Non</button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                
                        <!-- Groupe Autre -->
                        <tr>
                            <td><span><img src="https://cdn.icon-icons.com/icons2/1690/PNG/512/3943450-box-christmas-gift-giftbox-present-presents-surprise_111610.png" alt="" width="30" height="30"></span></td>
                            <td><strong>Emballage cadeau</strong></td>
                            <td><strong>Autre</strong></td>
                            <td>
                                <div class="btn-group btn-group-small">
                                    <form method="post" id="livraison_enable" action="/site/carrefour-be/locations/service/livraison/enable">
                                        <input name="id" value="livraison-id" type="hidden"/>
                                        <button class="toggle add-service enable-btn" type="submit">Oui</button>
                                    </form>
                                    <form method="post" id="livraison_disable" action="/site/carrefour-be/locations/service/livraison/disable">
                                        <input name="id" value="livraison-id" type="hidden"/>
                                        <button class="toggle toggleInactif del-service disable-btn active">Non</button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td><span><img src="https://cdn.icon-icons.com/icons2/2534/PNG/512/product_delivery_icon_152013.png" alt="" width="30" height="30"></span></td>
                            <td><strong>Produits locaux</strong></td>
                            <td><strong>Autre</strong></td>
                            <td>
                                <div class="btn-group btn-group-small">
                                    <form method="post" id="sav_enable" action="/site/carrefour-be/locations/service/sav/enable">
                                        <input name="id" value="sav-id" type="hidden"/>
                                        <button class="toggle add-service enable-btn" type="submit">Oui</button>
                                    </form>
                                    <form method="post" id="sav_disable" action="/site/carrefour-be/locations/service/sav/disable">
                                        <input name="id" value="sav-id" type="hidden"/>
                                        <button class="toggle toggleInactif del-service disable-btn active">Non</button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
                
            </div>
        </div>
    </main>

    <!-- Modale pour créer un groupe de services -->
    <div id="serviceGroupModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeServiceGroupModal">&times;</span>
            <h2>Créer un groupe de services</h2>
            <form id="serviceGroupForm">
                <label for="serviceGroupName">Nom du groupe:</label>
                <input type="text" id="serviceGroupName" name="serviceGroupName" required>
                <div class="modal-actions">
                    <button type="submit" class="btn btn-level2">Enregistrer</button>
                    <button type="button" class="btn" id="cancelServiceGroupModal">Annuler</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modale pour créer un service -->
    <div id="serviceModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeServiceModal">&times;</span>
            <h2>Créer un service</h2>
            <form id="serviceForm">
                <label for="serviceName">Nom du service:</label>
                <input type="text" id="serviceName" name="serviceName" required>

                <!-- Exemple d'un select avec le style -->
                <label for="serviceGroup" style="margin-top: 5px;">Groupe de services</label>
                <select id="serviceGroup" class="select-custom">
                    <option value="">Sélectionnez un groupe</option>
                    <option value="groupe1">Voiture</option>
                    <option value="groupe2">Finance</option>
                    <option value="groupe2">Autre</option>
                </select>
                <p></p>
                <label for="serviceIcon" class="custom-file-upload">Choisir une icône</label>
                <input type="file" id="serviceIcon" />


                <div class="modal-actions">
                    <button type="submit" class="btn btn-level2">Enregistrer</button>
                    <button type="button" class="btn" id="cancelServiceModal">Annuler</button>
                </div>
            </form>
        </div>
    </div>

    <style>
        .modal { display: none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.4); }
        .modal-content { background-color: white; margin: 15% auto; padding: 20px; border: 1px solid #888; width: 30%; box-shadow: 0px 4px 10px rgba(0,0,0,0.2); }
        .close { color: #aaa; float: right; font-size: 28px; font-weight: bold; }
        .close:hover, .close:focus { color: black; text-decoration: none; cursor: pointer; }
        .modal-actions { margin-top: 20px; display: flex; justify-content: space-between; }
        /* Style pour les éléments select */
        .select-custom {
            width: 100%;
            padding: 10px;
            border: 1px solid #c3c3c3; /* Couleur de bordure */
            border-radius: 5px; /* Coins arrondis */
            background-color: #f9f9f9; /* Couleur de fond */
            appearance: none; /* Supprimer le style par défaut du select */
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><polygon points="0,0 20,0 10,10" fill="%23033e74"/></svg>'); /* Flèche personnalisée */
            background-repeat: no-repeat;
            background-position: right 10px center; /* Position de la flèche */
        }

        /* Style pour les éléments input file */
        input[type="file"] {
            display: none; /* Masquer le champ de fichier par défaut */
        }

        .custom-file-upload {
            margin-top: 10px;
            display: inline-block;
            padding: 10px;
            border: 1px solid #c3c3c3; /* Couleur de bordure */
            border-radius: 5px; /* Coins arrondis */
            background-color: #f9f9f9; /* Couleur de fond */
            cursor: pointer; /* Curseur pointer pour indiquer que c'est cliquable */
            color: #c3c3c3; /* Couleur du texte */
        }

        /* Ajout de styles lors du survol */
        .custom-file-upload:hover {
            background-color: #e0e0e0; /* Couleur de fond au survol */
        }

        /* Style pour le texte de l'input file */
        input[type="file"] + label {
            font-size: 14px; /* Taille de police */
            color: #c3c3c3; /* Couleur du texte */
        }

    </style>
    <script src="/js/jquery-3.4.1.min.js"></script>
    <script src="/js/datatables.min.js"></script>
    <script src="/js/jquery-ui.min.js"></script>
    <script src="/js/cloudinary-jquery.js"></script>
    <script src="/js/notify.js"></script>
    <script src="/js/moment.min.js"></script>
    <script src="/js/moment-with-locales.js"></script>
    <script src="/js/daterangepicker.min.js"></script>
    <script src="/js/global.js"></script>
    <script src="/js/global-added.js"></script>
    <script src="/js/HoldOn.min.js"></script>
    <script src="/js/chosen.jquery.min.js"></script>
    <script src="/js/emojionearea.min.js"></script>
    <script src="/js/jquery.richtext.min.js"></script>
    <script src="/js/jquery.multi-select.min.js"></script>
    <script src="/js/switch.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.6/cropper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.6/cropper.min.js"></script>

    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.6/cropper.min.css"
    />
    <script src="/js/images.js"></script>
    <script>
        // Variables modales
        var serviceModal = document.getElementById("serviceModal");
        var serviceGroupModal = document.getElementById("serviceGroupModal");

        // Boutons ouvrir modales
        var openServiceModalBtn = document.getElementById("openServiceModal");
        var openServiceGroupModalBtn = document.getElementById("openServiceGroupModal");

        // Boutons fermer modales
        var closeServiceModalBtn = document.getElementById("closeServiceModal");
        var closeServiceGroupModalBtn = document.getElementById("closeServiceGroupModal");

        // Ouvrir modales
        openServiceModalBtn.onclick = function() { serviceModal.style.display = "block"; }
        openServiceGroupModalBtn.onclick = function() { serviceGroupModal.style.display = "block"; }

        // Fermer modales
        closeServiceModalBtn.onclick = function() { serviceModal.style.display = "none"; }
        closeServiceGroupModalBtn.onclick = function() { serviceGroupModal.style.display = "none"; }

        // Fermer en cliquant à l'extérieur
        // Fermer en cliquant à l'extérieur de la modale
        window.onclick = function(event) {
            if (event.target == serviceModal) {
                serviceModal.style.display = "none";
            }
            if (event.target == serviceGroupModal) {
                serviceGroupModal.style.display = "none";
            }
        }

        // Gestion de la soumission des formulaires
        document.getElementById("serviceForm").onsubmit = function(event) {
            event.preventDefault(); // Empêche le rechargement de la page

            // Récupération des données du formulaire
            const serviceName = document.getElementById("serviceName").value;
            const serviceGroup = document.getElementById("serviceGroup").value;
            const serviceIcon = document.getElementById("serviceIcon").files[0];

            // TODO: Ajoutez votre logique pour traiter les données du service ici

            // Réinitialisation des champs et fermeture de la modale
            document.getElementById("serviceForm").reset();
            serviceModal.style.display = "none";

            alert(`Service "${serviceName}" créé avec succès dans le groupe "${serviceGroup}" !`);
        }

        document.getElementById("serviceGroupForm").onsubmit = function(event) {
            event.preventDefault(); // Empêche le rechargement de la page

            // Récupération du nom du groupe
            const serviceGroupName = document.getElementById("serviceGroupName").value;

            // TODO: Ajoutez votre logique pour traiter les données du groupe de services ici

            // Réinitialisation des champs et fermeture de la modale
            document.getElementById("serviceGroupForm").reset();
            serviceGroupModal.style.display = "none";

            alert(`Groupe de services "${serviceGroupName}" créé avec succès !`);
        }

        // Annuler les modales
        document.getElementById("cancelServiceModal").onclick = function() {
            serviceModal.style.display = "none";
        }

        document.getElementById("cancelServiceGroupModal").onclick = function() {
            serviceGroupModal.style.display = "none";
        }
    </script>
</body>
</html>
